<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Wish Maker</title>
  <style>
    body {
      font-family: sans-serif;
      text-align: center;
      background: #f9f9f9;
      padding: 40px;
    }
    #main, #create, #view, #wishBox {
      display: none;
    }
    button {
      padding: 12px 24px;
      font-size: 18px;
      cursor: pointer;
      border: none;
      background: #ff4081;
      color: white;
      border-radius: 8px;
      margin: 10px;
    }
    textarea {
      width: 80%;
      height: 100px;
      font-size: 16px;
    }
    .balloon {
      position: absolute;
      bottom: -100px;
      width: 40px;
      height: 60px;
      background: red;
      border-radius: 50%;
      animation: fly 5s linear infinite;
    }
    @keyframes fly {
      0% {transform: translateY(0);}
      100% {transform: translateY(-800px);}
    }
  </style>
</head>
<body>

  <div id="main">
    <h1>Welcome to Wish Maker</h1>
    <button onclick="showCreate()">Wish Now</button>
  </div>

  <div id="create">
    <h2>Write Your Wish</h2>
    <textarea id="wishInput" placeholder="Type your wish..."></textarea><br>
    <button onclick="generateWish()">OK</button>
    <div id="shareLink"></div>
  </div>

  <div id="view">
    <h2>You've received a wish!</h2>
    <button onclick="revealWish()">Open Gift</button>
  </div>

  <div id="wishBox">
    <h2>Your Wish:</h2>
    <p id="wishText" style="font-size: 20px;"></p>
  </div>

  <script>
    function showCreate() {
      document.getElementById('main').style.display = 'none';
      document.getElementById('create').style.display = 'block';
    }

    function generateWish() {
      const wish = document.getElementById('wishInput').value.trim();
      if (!wish) return alert("Write something!");

      const id = Math.random().toString(36).substr(2, 8);
      
      // Save wish in localStorage
      localStorage.setItem(id, wish);

      const link = window.location.origin + window.location.pathname + '?id=' + id;
      document.getElementById('shareLink').innerHTML = `
        <p>Copy this link and share:</p>
        <input type="text" value="${link}" style="width: 90%; font-size:16px;" readonly onclick="this.select()">
      `;
    }

    function revealWish() {
      const params = new URLSearchParams(window.location.search);
      const id = params.get('id');
      
      // Retrieve wish from localStorage using the id
      const wish = localStorage.getItem(id);

      if (wish) {
        document.getElementById('view').style.display = 'none';
        document.getElementById('wishBox').style.display = 'block';
        document.getElementById('wishText').innerText = wish;

        // Show balloons
        for (let i = 0; i < 20; i++) {
          const balloon = document.createElement('div');
          balloon.className = 'balloon';
          balloon.style.left = Math.random() * 100 + '%';
          balloon.style.background = `hsl(${Math.random()*360}, 80%, 60%)`;
          document.body.appendChild(balloon);
        }
      }
    }

    // Load view if URL has id
    window.onload = function() {
      const params = new URLSearchParams(window.location.search);
      const id = params.get('id');

      if (id) {
        document.getElementById('view').style.display = 'block';
      } else {
        document.getElementById('main').style.display = 'block';
      }
    };
  </script>

</body>
</html><!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Wish Maker</title>
  <style>
    body {
      font-family: sans-serif;
      text-align: center;
      background: #f9f9f9;
      padding: 40px;
    }
    #main, #create, #view, #wishBox {
      display: none;
    }
    button {
      padding: 12px 24px;
      font-size: 18px;
      cursor: pointer;
      border: none;
      background: #ff4081;
      color: white;
      border-radius: 8px;
      margin: 10px;
    }
    textarea {
      width: 80%;
      height: 100px;
      font-size: 16px;
    }
    .balloon {
      position: absolute;
      bottom: -100px;
      width: 40px;
      height: 60px;
      background: red;
      border-radius: 50%;
      animation: fly 5s linear infinite;
    }
    @keyframes fly {
      0% {transform: translateY(0);}
      100% {transform: translateY(-800px);}
    }
  </style>
</head>
<body>

  <div id="main">
    <h1>Welcome to Wish Maker</h1>
    <button onclick="showCreate()">Wish Now</button>
  </div>

  <div id="create">
    <h2>Write Your Wish</h2>
    <textarea id="wishInput" placeholder="Type your wish..."></textarea><br>
    <button onclick="generateWish()">OK</button>
    <div id="shareLink"></div>
  </div>

  <div id="view">
    <h2>You've received a wish!</h2>
    <button onclick="revealWish()">Open Gift</button>
  </div>

  <div id="wishBox">
    <h2>Your Wish:</h2>
    <p id="wishText" style="font-size: 20px;"></p>
  </div>

  <script>
    function showCreate() {
      document.getElementById('main').style.display = 'none';
      document.getElementById('create').style.display = 'block';
    }

    function generateWish() {
      const wish = document.getElementById('wishInput').value.trim();
      if (!wish) return alert("Write something!");

      const id = Math.random().toString(36).substr(2, 8);
      
      // Save wish in localStorage
      localStorage.setItem(id, wish);

      const link = window.location.origin + window.location.pathname + '?id=' + id;
      document.getElementById('shareLink').innerHTML = `
        <p>Copy this link and share:</p>
        <input type="text" value="${link}" style="width: 90%; font-size:16px;" readonly onclick="this.select()">
      `;
    }

    function revealWish() {
      const params = new URLSearchParams(window.location.search);
      const id = params.get('id');
      
      // Retrieve wish from localStorage using the id
      const wish = localStorage.getItem(id);

      if (wish) {
        document.getElementById('view').style.display = 'none';
        document.getElementById('wishBox').style.display = 'block';
        document.getElementById('wishText').innerText = wish;

        // Show balloons
        for (let i = 0; i < 20; i++) {
          const balloon = document.createElement('div');
          balloon.className = 'balloon';
          balloon.style.left = Math.random() * 100 + '%';
          balloon.style.background = `hsl(${Math.random()*360}, 80%, 60%)`;
          document.body.appendChild(balloon);
        }
      }
    }

    // Load view if URL has id
    window.onload = function() {
      const params = new URLSearchParams(window.location.search);
      const id = params.get('id');

      if (id) {
        document.getElementById('view').style.display = 'block';
      } else {
        document.getElementById('main').style.display = 'block';
      }
    };
  </script>

</body>
</html>